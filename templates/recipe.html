{% extends 'base.html'%} {% block content %}
{% if session['username'] %} 
<div class="center">
  <a href="{{ url_for('edit_recipe', recipe_id=recipe._id) }}"
    ><button type="button" class="btn btn-primary">Edit recipe</button></a
  >
</div>
{% if recipe._id in active_user.recipes %}
<div class="center">
  <a href="{{ url_for('remove_recipe', recipe_id=recipe._id) }}"
    ><button type="button" class="btn btn-primary">Remove recipe</button></a
  >
</div>
{% else %}
<div class="center">
  <a href="{{ url_for('save_recipe', recipe_id=recipe._id) }}"
    ><button type="button" class="btn btn-primary">save recipe</button></a
  >
</div>
{% endif %}
{% if owner._id == active_user._id %}
<form
  enctype="multipart/form-data"
  method="POST"
  action="{{url_for('add_image', recipe_id=recipe._id)}}"
>
  <div class="center">
    <input name="file" id="file" type="file" />
    <button class="btn btn-primary" type="submit">add image</button>
  </div>
</form>
{% endif %}
{% endif %}
<div class="card mb-4">
  <div class="card-header">
    <div class="card-title">
      {{recipe.recipe_name}}-{{owner.name}}
      <p>Difficulty: {{recipe.difficulty}}</p>
    </div>
  </div>
  <img
    src="{{recipe.img_url}}"
    class="card-img-top card-img-custom"
    alt="{{recipe.recipe_name}}"
  />
</div>
<div class="card mb-4">
  <div class="card-body">
    <h5 class="card-title">Ingredients</h5>
    <ul>
      {% for ingredient in recipe.recipe_ingredients %} {% if ingredient != Null
      %}
      <li class="card-text">{{ingredient}}</li>
      {% endif %} {% endfor %}
    </ul>
  </div>
</div>
<div class="card mb-4">
  <div class="card-body">
    <h5 class="card-title">Method</h5>
    <ol>
      {% for step in recipe.recipe_steps %}
      <li class="card-text">{{step}}</li>
      {% endfor %}
    </ol>
  </div>
</div>
<div class="card mb-4">
  <div class="card-body">
    <h5 class="card-title">Notes</h5>
    <ul>
      <li class="card-text">{{recipe.notes}}</li>
    </ul>
  </div>
</div>

{% endblock %}
